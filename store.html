<!DOCTYPE html>
<html lang=en-US class=no-js>

<head>
    <meta charset=UTF-8>
    <meta name=viewport content="width=device-width, initial-scale=1">

    <title>Homepage Minimal - Uniq</title>

    <link rel=stylesheet id=gdlr-core-google-font-css href='https://fonts.googleapis.com/css?family=Poppins%3A100%2C100italic%2C200%2C200italic%2C300%2C300italic%2Cregular%2Citalic%2C500%2C500italic%2C600%2C600italic%2C700%2C700italic%2C800%2C800italic%2C900%2C900italic%7CMontserrat%3A100%2C100italic%2C200%2C200italic%2C300%2C300italic%2Cregular%2Citalic%2C500%2C500italic%2C600%2C600italic%2C700%2C700italic%2C800%2C800italic%2C900%2C900italic%7CMerriweather%3A300%2C300italic%2Cregular%2Citalic%2C700%2C700italic%2C900%2C900italic&amp;subset=latin%2Clatin-ext%2Cdevanagari%2Ccyrillic-ext%2Cvietnamese%2Ccyrillic&amp;ver=5.1.1' type=text/css media=all>

    <link rel=stylesheet href='plugins/goodlayers-core/plugins/combine/style.css' type=text/css media=all>
    <link rel=stylesheet href='plugins/goodlayers-core/include/css/page-builder.css' type=text/css media=all>
    <link rel=stylesheet href='plugins/revslider/public/assets/css/settings.css' type=text/css media=all>
    <link rel=stylesheet href='css/style-core.css' type=text/css media=all>
    <link rel=stylesheet href='css/uniq-style-custom.css' type=text/css media=all>
    <script type="text/javascript"
        src="https://app.sandbox.midtrans.com/snap/snap.js"
        data-client-key="SB-Mid-client-8YBpPeQ2EvI3TQx2"></script>
</head>

<body class="home page-template-default page page-id-6559 gdlr-core-body uniq-body uniq-body-front uniq-full  uniq-with-sticky-navigation  uniq-blockquote-style-1 gdlr-core-link-to-lightbox">
<div class=uniq-mobile-header-wrap>
    <div class="uniq-mobile-header uniq-header-background uniq-style-slide uniq-sticky-mobile-navigation " id=uniq-mobile-header>
        <div class="uniq-mobile-header-container uniq-container clearfix">
            <div class="uniq-logo  uniq-item-pdlr">
                <div class=uniq-logo-inner>
                    <a class href=index.html><img src=upload/logo-white.png alt width=140 height=53 title=logo-white></a>
                </div>
            </div>
            <div class=uniq-mobile-menu-right>
                <div class=uniq-mobile-menu><a class="uniq-mm-menu-button uniq-mobile-menu-button uniq-mobile-button-hamburger" href=#uniq-mobile-menu><span></span></a>
                    <div class="uniq-mm-menu-wrap uniq-navigation-font" id=uniq-mobile-menu data-slide=right>
                        <ul id=menu-main-one-page class=m-menu>
                            <li class="menu-item"><a href=index.html#home>Home</a></li>
                            <li class="menu-item"><a href=store.html>Shop</a></li>
                            <li class="menu-item"><a href=#database.html>Works</a></li>
                            <li class="menu-item"><a href=index.html#about>About</a></li>
                            <li class="menu-item"><a href=index.html#team>Our Team</a></li>
                            <li class="menu-item"><a href=#news>News</a></li>
                            <li class="menu-item"><a href=contact.html>Contact</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="uniq-body-outer-wrapper ">
    <div class="uniq-body-wrapper clearfix  uniq-with-transparent-header uniq-with-frame">
        <div class=uniq-header-background-transparent>
            <header class="uniq-header-wrap uniq-header-style-plain  uniq-style-menu-right uniq-sticky-navigation uniq-style-slide" data-navigation-offset=75px>
                <div class=uniq-header-background></div>
                <div class="uniq-header-container  uniq-container">
                    <div class="uniq-header-container-inner clearfix">
                        <div class="uniq-logo  uniq-item-pdlr">
                            <div class=uniq-logo-inner>
                                <a class href=index.html><img src=upload/4.png alt width=140 height=53 title=logo-white></a>
                            </div>
                        </div>
                        <div class="uniq-navigation uniq-item-pdlr clearfix ">
                            <div class=uniq-main-menu id=uniq-main-menu>
                                <ul id=menu-main-one-page-1 class=sf-menu>
                                    <li class="menu-item uniq-normal-menu"><a href=index.html>Home</a></li>
                                    <li class="menu-item uniq-normal-menu"><a href=#>Shop</a></li>
                                    <li class="menu-item uniq-normal-menu"><a href=database.html>Works</a></li>
                                    <li class="menu-item uniq-normal-menu"><a href=index.html#about>About</a></li>
                                    <li class="menu-item uniq-normal-menu"><a href=index.html#team>Our Team</a></li>
                                    <li class="menu-item uniq-normal-menu"><a href=index.html#news>News</a></li>
                                    <li class="menu-item uniq-normal-menu"><a href=contact.html>Contact</a></li>
                                </ul>
                                <div class=uniq-navigation-slide-bar id=uniq-navigation-slide-bar></div>
                            </div>
                        </div>
                    </div>
                </div>
            </header>
        </div>
        <div class=uniq-page-wrapper id=uniq-page-wrapper>
            <div class=gdlr-core-page-builder-body>
                <div class="gdlr-core-pbf-wrapper  gdlr-core-hide-in-tablet-mobile" style="padding: 170px 0px 0px 0px;">
                    <div class=gdlr-core-pbf-background-wrap style="background-color: #191919 ;"></div>
                    <div class="gdlr-core-pbf-wrapper-content gdlr-core-js ">
                        <div class="gdlr-core-pbf-wrapper-container clearfix gdlr-core-pbf-wrapper-full-no-space"></div>
                    </div>
                </div>
                <div class="gdlr-core-pbf-wrapper " style="padding: 90px 0px 90px 0px;">
                    <div class=gdlr-core-pbf-background-wrap style="background-color: #f7f7f7 ;"></div>
                    <div class="gdlr-core-pbf-wrapper-content gdlr-core-js ">
                        <div class="gdlr-core-pbf-wrapper-container clearfix gdlr-core-container">
                            <div class=gdlr-core-pbf-element>
                                <div class="gdlr-core-title-item gdlr-core-item-pdb clearfix gdlr-core-center-align gdlr-core-title-item-caption-bottom gdlr-core-item-pdlr">
                                    <h3 class="gdlr-core-title-item-title gdlr-core-skin-title " style="font-size: 39px ;letter-spacing: 0px ;text-transform: none ;">Shop Our Product<span class="gdlr-core-title-item-title-divider gdlr-core-skin-divider" ></span></h3>
                                </div>
                            </div>
                            <div class="gdlr-core-pbf-column gdlr-core-column-60 gdlr-core-column-first">
                                <div class="gdlr-core-pbf-column-content-margin gdlr-core-js ">
                                    <div class="gdlr-core-pbf-column-content clearfix gdlr-core-js " style="max-width: 760px ;">
                                        <div class=gdlr-core-pbf-element>
                                            <div class="gdlr-core-product-item gdlr-core-item-pdb clearfix">
                                                <div class="gdlr-core-product-thumbnail">
                                                    <img src="upload/Product.jpg" alt="Product Image" style="width: 40%;">
                                                </div>
                                                <div class="gdlr-core-product-info">
                                                    <h4 class="gdlr-core-product-title">Monitoring Kandang Ayam</h4>
                                                    <p class="gdlr-core-product-price">Rp. 150.000</p>
                                                    <p class="gdlr-core-product-description">This is a brief description of the product.</p>
                                                    <form class="gdlr-core-product-form">
                                                        <input type="number" name="quantity" value="1" min="1" max="1" style="width: 50px;" readonly>
                                                        <button type="submit" class="submit-button buy-now-btn">Buy Now</button>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
                
        <footer>
            <div class="uniq-footer-wrapper ">
                <div class="uniq-footer-container uniq-container clearfix">
                    <div class="uniq-footer-column uniq-item-pdlr uniq-column-15">
                        <div id=text-2 class="widget widget_text uniq-widget">
                            <div class=textwidget>
                                <p><img src=upload/2.png width="40%"></p>
                            </div>
                        </div>
                    </div>
                    <div class="uniq-footer-column uniq-item-pdlr uniq-column-15">
                        <div id=text-9 class="widget widget_text uniq-widget">
                            <div class=textwidget>
                                <p>Copyright All Right Reserved <span class=gdlr-core-space-shortcode style="margin-top: -17px ;"></span>
                                    <br> <a href=https://HAKI.id/ target=_blank>HAKI</a></p>
                            </div>
                        </div>
                    </div>
                    <div class="uniq-footer-column uniq-item-pdlr uniq-column-15">
                        <div id=text-10 class="widget widget_text uniq-widget">
                            <div class=textwidget>
                                <p>+62-2356-2346-234 <span class=gdlr-core-space-shortcode style="margin-top: -17px ;"></span>
                                    <br> <a href=mailto:haki.iot41@gmail.com target=_blank rel=noopener>haki.iot41@gmail.com</a> <span class=gdlr-core-space-shortcode style="margin-top: -17px ;"></span>
                                    <br> Upi Cibiru</p>
                            </div>
                        </div>
                    </div>
                    <div class="uniq-footer-column uniq-item-pdlr uniq-column-15">
                        <div id=text-11 class="widget widget_text uniq-widget">
                            <div class=textwidget>
                                <div class="gdlr-core-social-network-item gdlr-core-item-pdb  gdlr-core-none-align" style="padding-bottom: 0px ;"><a href=https://www.facebook.com/haki target=_blank class=gdlr-core-social-network-icon title=facebook style="font-size: 22px ;"><i class="fa fa-facebook" ></i></a><a href=#url target=_blank class=gdlr-core-social-network-icon title=twitter style="font-size: 22px ;margin-left: 24px ;"><i class="fa fa-twitter" ></i></a><a href=https://www.instagram.com/haki.iot/ target=_blank class=gdlr-core-social-network-icon title=instagram style="font-size: 22px ;margin-left: 24px ;"><i class="fa fa-instagram" ></i></a></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
    </div>
</div>

<div id="buyNowModal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <div class="product-info-modal">
            <img id="modalProductImage" src="upload/Product.jpg" alt="Product Image" style="width: 100px; height: auto; margin-bottom: 15px;">
            <h3 id="modalProductName" style="margin: 0 0 20px 0;">Monitoring Kandang Ayam</h3>
        </div>
        <form id="purchaseForm">
            <div class="form-group">
                <label for="name">Nama:</label>
                <input type="text" id="name" name="name" required placeholder="Enter your name">
            </div>
            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" required placeholder="Email@example">
            </div>
            <div class="form-group">
                <label for="phone">No HP:</label>
                <input type="tel" id="phone" name="phone" required placeholder="08xxxx">
            </div>
            <div class="form-group">
                <label for="address">Alamat:</label>
                <input type="text" id="address" name="address" required placeholder="Enter your address">
            </div>
            <button type="submit" class="submit-btn">Buy Now</button>
        </form>
    </div>
</div>

<script src='js/jquery/jquery.js'></script>
<script src='js/jquery/jquery-migrate.min.js'></script>
<script src='plugins/goodlayers-core/plugins/combine/script.js'></script>
<script>
    var gdlr_core_pbf = {
        "admin": "",
        "video": {
            "width": "640",
            "height": "360"
        },
        "ajax_url": ""
    };
</script>
<script src='plugins/goodlayers-core/include/js/page-builder.js'></script>
<script src='js/jquery/ui/effect.min.js'></script>
<script src='js/jquery.mmenu.js'></script>
<script src='js/jquery.superfish.js'></script>
<script src='js/script-core.js'></script>
<script type="text/javascript" src="plugins/quform/js/plugins.js"></script>
<script type="text/javascript" src="plugins/quform/js/scripts.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
	// Get the modal
	var modal = document.getElementById("buyNowModal");
	var purchaseForm = document.getElementById('purchaseForm');
	var submitBtn = purchaseForm.querySelector('.submit-btn');
	
	// Get all form inputs
	var nameInput = document.getElementById('name');
	var emailInput = document.getElementById('email');
	var phoneInput = document.getElementById('phone');
	var addressInput = document.getElementById('address');
	
	// Function to validate form
	function validateForm() {
		let isValid = true;
		
		// Check if all fields are filled
		if (!nameInput.value.trim()) {
			nameInput.style.borderColor = 'red';
			isValid = false;
		} else {
			nameInput.style.borderColor = '#ddd';
		}
		
		// Validate email format
		if (!emailInput.value.trim() || !emailInput.value.includes('@')) {
			emailInput.style.borderColor = 'red';
			isValid = false;
		} else {
			emailInput.style.borderColor = '#ddd';
		}
		
		if (!phoneInput.value.trim()) {
			phoneInput.style.borderColor = 'red';
			isValid = false;
		} else {
			phoneInput.style.borderColor = '#ddd';
		}
		
		if (!addressInput.value.trim()) {
			addressInput.style.borderColor = 'red';
			isValid = false;
		} else {
			addressInput.style.borderColor = '#ddd';
		}
		
		// Enable/disable submit button based on validation
		submitBtn.disabled = !isValid;
		submitBtn.style.opacity = isValid ? '1' : '0.5';
		submitBtn.style.cursor = isValid ? 'pointer' : 'not-allowed';
		
		return isValid;
	}
	
	// Add input event listeners to all form fields
	[nameInput, emailInput, phoneInput, addressInput].forEach(input => {
		input.addEventListener('input', validateForm);
	});
	
	// Get the <span> element that closes the modal
	var span = document.getElementsByClassName("close")[0];
	
	// Function to show modal
	function showModal() {
		modal.style.display = "flex";
		// Reset form and validation when showing modal
		purchaseForm.reset();
		validateForm();
	}
	
	// Function to hide modal
	function hideModal() {
		modal.style.display = "none";
	}
	
	// Add click event to all Buy Now buttons
	var buyButtons = document.querySelectorAll(".buy-now-btn");
	buyButtons.forEach(function(button) {
		button.addEventListener('click', function(e) {
			e.preventDefault();
			showModal();
		});
	});

	// Add event listener to product forms
	var productForms = document.querySelectorAll(".gdlr-core-product-form");
	productForms.forEach(function(form) {
		form.addEventListener('submit', function(e) {
			e.preventDefault();
			showModal();
		});
	});
	
	// When the user clicks on <span> (x), close the modal
	span.onclick = function() {
		hideModal();
	}
	
	// When the user clicks anywhere outside of the modal, close it
	window.onclick = function(event) {
		if (event.target == modal) {
			hideModal();
		}
	}
	
	// Handle form submission
    purchaseForm.addEventListener('submit', function(e) {
        e.preventDefault();
        if (validateForm()) {
            // Get form data
            const formData = {
                name: nameInput.value,
                email: emailInput.value,
                phone: phoneInput.value,
                address: addressInput.value,
                product: document.getElementById('modalProductName').textContent
            };

            // Send to backend to get snap token
            fetch('plugins/php/get-snap-token.php', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(formData)
            })
            .then(response => {
                if (!response.ok) {
                    return response.json().then(err => {
                        throw new Error(err.error || 'Network response was not ok');
                    });
                }
                return response.json();
            })
            .then(data => {
                if (data.error) {
                    throw new Error(data.error);
                }
                console.log('Got snap token:', data.snap_token);
                // Initialize snap popup
                window.snap.pay(data.snap_token, {
                    onSuccess: function(result) {
                        console.log('success', result);
                        alert('Pembayaran berhasil!');
                        hideModal();
                        purchaseForm.reset();
                    },
                    onPending: function(result) {
                        console.log('pending', result);
                        alert('Menunggu pembayaran Anda!');
                    },
                    onError: function(result) {
                        console.error('payment error', result);
                        alert('Pembayaran gagal: ' + result.status_message);
                    },
                    onClose: function() {
                        console.log('customer closed the popup without finishing the payment');
                    }
                });
            })
            .catch(error => {
                console.error('Error:', error);
                alert('Terjadi kesalahan: ' + error.message);
            });
        }
    });
});
</script>

</body>
</html>